/**
 * \file ProgrammePrincial.cpp
 * \brief
 * \author etudiant
 * \date 2018-04-09
 */
#include "Client.h"
#include "validationFormat.h"
using namespace std;
using namespace util;
using namespace banque;
int main(){
	bool validiteFolio=false;
	bool validitePrenom=false;
	bool validiteNom=false;
	bool validiteTelephone=false;
	//bool validiteNouveauTelephone=false;
	string prenom;
	string nom;
	string telephone;
	string nouveauTelephone;
	int noFolio;
	long jour;
	long mois;
	long annee;
	string dateNaissance;

	cout<<"Bienvenue a l'outil client"<<endl;
	cout<<"----------------------------------------"<<endl;

	while(!validiteFolio){

		cout<<"Entrez le numero de folio du client [1000, 10000[ : "<<endl;
		cin>>noFolio;
		if (noFolio>=1000 && noFolio<10000) validiteFolio=true;

		else                             // folio non valide
		{

			cout<<"Le numero de folio n'est pas entre 1000 et 10000 exclusivement"<<endl;
			cout<<endl;
		}
		}
	getline(cin, prenom);
	while(!validitePrenom){

		cout<<"Entrez le prenom: "<<endl;

		getline(cin, prenom);
		if (validerFormatNom(prenom)) validitePrenom=true;
		else                                            // prenom non valide
		{
			cout<<"Le prénom n’est pas valide"<<endl;
			cout<<endl;
		}
		}


	while(!validiteNom){

		cout<<"Entrez le nom: "<<endl;
		getline(cin, nom);
		if (validerFormatNom(nom)) validiteNom=true;
		else                                            // nom non valide
		{
			cout<<"Le nom n’est pas valide"<<endl;
			cout<<endl;
		}
		}


	while(!validiteTelephone){

		cout<<"Entrez le numero de telephone XXX CCC-CCCC: "<<endl;
		getline(cin, telephone);
		if (validerTelephone(telephone)) validiteTelephone=true;
		else                                            // telephone non valide
		{
			cout<<"Le numero de telephone n'est pas valide."<<endl;
			cout<<endl;
		}
		}
	cout << "Date de Naissance du CLient: " << endl;

	while(!util::Date(jour, mois, annee)){
		cout << "Entrez la date de naissance sous le format (jjmmaaaa)"<<endl;
		getline(cin, dateNaissance);



	}
	Client monclient(noFolio, nom, prenom, telephone, util::Date(jour, mois, annee));
	/*Epargne epargne1(1234, 1.1, 4000, "placement");
	Cheque cheque1(1234, 1.1, -1000, 22, 0.2, "mon compte cheque");
	monclient.ajouterCompte(epargne1);
	monclient.ajouterCompte(cheque1);
	cout << monclient.reqReleves();*/

	return 0;
}


