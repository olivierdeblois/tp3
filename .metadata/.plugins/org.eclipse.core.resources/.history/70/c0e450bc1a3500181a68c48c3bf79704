/**
 * \file Epargne.cpp
 * \brief
 * \author etudiant
 * \date 2018-03-27
 */

#include "Epargne.h"


Epargne::Epargne(int p_noCompte, double p_tauxInteret, double p_solde,
		const std::string& p_description): Compte(p_noCompte, p_tauxInteret, p_solde, p_description) {

	PRECONDITION( p_tauxInteret >= 0.1 && p_tauxInteret <= 3.5 );

	INVARIANTS();
}

double Epargne::calculerInteret() {

	return m_tauxInteret*m_solde ;
}

std::string Epargne::reqCompteFormate() const {
	ostringstream os;
	os << "Compte Epargne" << endl;
	os << "numero: " << m_noCompte << endl;
	os << "Description: " << m_description << endl;
	os << "Date d'ouverture: " << util::Date() << endl;
	os << "Taux d'interet: " << m_tauxInteret << endl;
	os << "Solde: " << m_solde <<"$"<< endl;
	os << "Interet: " << m_tauxInteret*m_solde << "$"<< endl;
	return os.str();
}

//Compte* Epargne::clone() const {
//	return new Epargne(*this); // Appel du constructeur copie
//}

Epargne::~Epargne() {
}

void Epargne::verifieInvariant() const {
	INVARIANT( m_tauxInteret >= 0.1 && m_tauxInteret <= 3.5 );
}
