/**
 * \file ProgrammePrincial.cpp
 * \brief
 * \author etudiant
 * \date 2018-04-09
 */
#include "Client.h"
#include "validationFormat.h"
#include <stdlib.h>
using namespace std;
using namespace util;
using namespace banque;
int main(){
	bool validiteFolio=false;
	bool validitePrenom=false;
	bool validiteNom=false;
	bool validiteTelephone=false;
	bool validiteDateNaissance=false;
	string prenom;
	string nom;
	string telephone;
	string nouveauTelephone;
	int noFolio;

	string strJour;
	string strMois;
	string strAnnee;
	long jour = 01;
	long mois = 01;
	long annee = 1970;

	string dateNaissance;

	int noCompte;
	double tauxInteret;
	double solde;
	int nombreTransactions;
	double tauxInteretMinimum;
	string description;

	cout<<"Bienvenue a l'outil client"<<endl;
	cout<<"----------------------------------------"<<endl;

	while(!validiteFolio){

		cout<<"Entrez le numero de folio du client [1000, 10000[ : "<<endl;
		cin>>noFolio;
		if (noFolio>=1000 && noFolio<10000) validiteFolio=true;

		else                             // folio non valide
		{

			cout<<"Le numero de folio n'est pas entre 1000 et 10000 exclusivement"<<endl;
			cout<<endl;
		}
		}
	getline(cin, prenom);
	while(!validitePrenom){

		cout<<"Entrez le prenom: "<<endl;

		getline(cin, prenom);
		if (validerFormatNom(prenom)) validitePrenom=true;
		else                                            // prenom non valide
		{
			cout<<"Le prénom n’est pas valide"<<endl;
			cout<<endl;
		}
		}


	while(!validiteNom){

		cout<<"Entrez le nom: "<<endl;
		getline(cin, nom);
		if (validerFormatNom(nom)) validiteNom=true;
		else                                            // nom non valide
		{
			cout<<"Le nom n’est pas valide"<<endl;
			cout<<endl;
		}
		}


	while(!validiteTelephone){

		cout<<"Entrez le numero de telephone XXX CCC-CCCC: "<<endl;
		getline(cin, telephone);
		if (validerTelephone(telephone)) validiteTelephone=true;
		else                                            // telephone non valide
		{
			cout<<"Le numero de telephone n'est pas valide."<<endl;
			cout<<endl;
		}
		}
	cout << "Date de Naissance du CLient: " << endl;

	while(!validiteDateNaissance){
		cout << "Entrez le jour de la date de naissance"<<endl;
		cin >> jour;
		cout << "Entrez le mois de la date de naissance"<<endl;
		cin >> mois;
		cout << "Entrez l'annee de la date de naissance"<<endl;
		cin >> annee;
		//strJour == dateNaissance.substr(1,2);
		//strMois == dateNaissance.substr(3,2);
		//strAnnee == dateNaissance.substr(5,4);

		//jour = std::atol( strJour.c_str());
		//mois = std::atol( strMois.c_str());
		//annee = std::atol( strAnnee.c_str());

		if (Date::validerDate(jour,mois,annee)) validiteDateNaissance = true;
		else{
			cout << "La date de Naissance est Invalide."<< endl;
			cout <<jour<<endl;
			cout << mois<<endl;
			cout << annee<<endl;
			cout << dateNaissance<<endl;
			cout << endl;
		}

	}
	cout<<"Bienvenue a l'outil Compte Cheque"<<endl;
	cout<<"----------------------------------------"<<endl;
	while(noCompte < 0){
		cout << " Entrez le numero du compte cheque: "<<endl;
		cin >> noCompte;
		if (noCompte < 0){
			cout << "Le numero de compte doit etre positif."<<endl;
		}
	}
	cout << " Entrez le taux d'interet du compte cheque: "<<endl;
	cin >> tauxInteret;
	cout << " Entrez le tsolde du compte cheque: "<<endl;
	cin >> solde;
	cout << " Entrez le nombre de transactions du compte cheque: "<<endl;
	cin >> nombreTransactions;
	cout << " Entrez le taux d'interet minimum du compte cheque: "<<endl;
	cin >> tauxInteretMinimum;




	//Client monclient(noFolio, nom, prenom, telephone, util::Date(jour, mois, annee));
	/*Epargne epargne1(1234, 1.1, 4000, "placement");
	Cheque cheque1(1234, 1.1, -1000, 22, 0.2, "mon compte cheque");
	monclient.ajouterCompte(epargne1);
	monclient.ajouterCompte(cheque1);
	cout << monclient.reqReleves();*/

	return 0;
}


